(this["webpackJsonpgoit-react-hw-04-image-finder"]=this["webpackJsonpgoit-react-hw-04-image-finder"]||[]).push([[0],[,,function(e,t,r){e.exports={loader:"Spiner_loader__1KcXc",inner:"Spiner_inner__38C3g",one:"Spiner_one__2sEkW","rotate-one":"Spiner_rotate-one__3YeUn",two:"Spiner_two__23vQc","rotate-two":"Spiner_rotate-two__2sjJs",three:"Spiner_three__3OTLa","rotate-three":"Spiner_rotate-three__-vYOS"}},,,,,,,function(e,t,r){e.exports={SearchForm:"SearchForm_SearchForm__2WvRV",SearchForm_button:"SearchForm_SearchForm_button__1UmDN",SearchForm_button_label:"SearchForm_SearchForm_button_label__H64wW",SearchForm_input:"SearchForm_SearchForm_input__3AzDk","SearchForm-input":"SearchForm_SearchForm-input__vR_7z"}},,,,,function(e,t,r){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2X6hI",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__31SzI"}},function(e,t,r){e.exports={Overlay:"Modal_Overlay__1xYBC",Modal:"Modal_Modal__vbF9R"}},,,function(e,t,r){e.exports={Searchbar:"SearchBar_Searchbar__3pzxN"}},function(e,t,r){e.exports={ImageGallery:"ImageGallery_ImageGallery__3-pfy"}},function(e,t,r){e.exports={Button:"Button_Button__2hWTW"}},,,,,,,,function(e,t,r){},function(e,t,r){"use strict";r.r(t);var a=r(10),n=r.n(a),c=r(17),o=r(3),i=r(1),s=r.n(i),l=r(4),u=r(5),m=r(7),j=r(6),h=r(18),b=r.n(h),d=r(9),_=r.n(d),p=r(0),f=function(e){Object(m.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={searchForm:""},e.SaveValue=function(t){e.setState({searchForm:t.target.value})},e.Submit=function(t){if(t.preventDefault(),""===e.state.searchForm.trim())return alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442"),void e.setState({searchForm:""});e.props.saveSubmit(e.state.searchForm.toLowerCase()),e.setState({searchForm:""})},e}return Object(u.a)(r,[{key:"render",value:function(){return Object(p.jsxs)("form",{className:_.a.SearchForm,onSubmit:this.Submit,children:[Object(p.jsx)("button",{type:"submit",className:_.a.SearchForm_button,children:Object(p.jsx)("span",{className:_.a.SearchForm_button_label,children:"Search"})}),Object(p.jsx)("input",{className:_.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.searchForm,onChange:this.SaveValue})]})}}]),r}(i.Component),O=function(e){Object(m.a)(r,e);var t=Object(j.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){var e=this.props.saveSubmit;return Object(p.jsx)("header",{className:b.a.Searchbar,children:Object(p.jsx)(f,{saveSubmit:e})})}}]),r}(i.Component),v=r(19),g=r.n(v),S=r(14),x=r.n(S);function y(e){var t=e.formRes,r=e.returnUrl;return Object(p.jsxs)(p.Fragment,{children:[!t&&Object(p.jsx)("h1",{children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0445 \u0444\u043e\u0442\u043e \u0435\u0449\u0451 \u043d\u0435\u0442"}),t&&t.map((function(e,a){return Object(p.jsxs)("li",{className:x.a.ImageGalleryItem,children:[Object(p.jsx)("img",{onClick:function(){r(e)},src:e.webformatURL,alt:"tags",className:x.a.ImageGalleryItem_image}),a===t.length-12&&Object(p.jsx)("div",{id:"scroll"})]},e.id)}))]})}function I(e){var t=e.returnUrl,r=e.arrayImage,a=e.style;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("ul",{className:g.a.ImageGallery,style:a,children:Object(p.jsx)(y,{formRes:r,returnUrl:t})})})}var w=r(15),F=r.n(w),N=r(13),k=document.querySelector("#modal-root"),E=function(e){Object(m.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var a=arguments.length,n=new Array(a),c=0;c<a;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.toggle()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.toggle()},e}return Object(u.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props.url;return Object(a.createPortal)(Object(p.jsx)("div",{className:F.a.Overlay,onClick:this.handleBackdropClick,children:Object(p.jsx)("div",{className:F.a.Modal,children:Object(p.jsx)("img",{src:e,alt:""})})}),k)}}]),r}(N.Component),R=r(20),U=r.n(R);function G(e){var t=e.morePage,r=e.total;return Object(p.jsxs)("button",{className:U.a.Button,onClick:t,children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e:",r,"foto ",Object(p.jsx)("br",{}),"Load More"]})}var T=r.p+"static/media/wooden-train-2066492_1920.c7803c8b.jpg";function A(){return Object(p.jsx)("div",{children:Object(p.jsx)("img",{width:"100%",src:T,alt:""})})}var C=r(2),L=r.n(C);function M(){return Object(p.jsxs)("div",{className:L.a.loader,children:[Object(p.jsx)("div",{className:"".concat(L.a.inner," ").concat(L.a.one)}),Object(p.jsx)("div",{className:"".concat(L.a.inner," ").concat(L.a.two)}),Object(p.jsx)("div",{className:"".concat(L.a.inner," ").concat(L.a.three)})]})}function B(e){var t=e.error;return Object(p.jsx)("h1",{children:t})}var P=r(16),Y=r.n(P),D=r(21),K={BASE_URL:"https://pixabay.com/api",IMAGE_TYPE:"photo",ORIENTATION:"horizontal",QUANTITY_PER_PAGE:12,KEY:"24908309-0f9f1bd491628a6ee7000b789"};function W(){return(W=Object(D.a)(Y.a.mark((function e(t,r){var a,n,c,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(K.BASE_URL,"/?image_type=").concat(K.IMAGE_TYPE,"&orientation=").concat(K.ORIENTATION,"&q=").concat(t,"&page=").concat(r,"&per_page=").concat(K.QUANTITY_PER_PAGE,"&key=").concat(K.KEY),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,o=c.hits.reduce((function(e,t){return e.push({id:t.id,webformatURL:t.webformatURL,largeImageURL:t.largeImageURL}),e}),[]),c.total>12&&o.length>0&&(o[0].loadMore=c.total),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=function(){var e,t=Object(i.useState)(""),r=Object(o.a)(t,2),a=r[0],n=r[1],s=Object(i.useState)(!1),l=Object(o.a)(s,2),u=l[0],m=l[1],j=Object(i.useState)(null),h=Object(o.a)(j,2),b=h[0],d=h[1],_=Object(i.useState)(1),f=Object(o.a)(_,2),v=f[0],g=f[1],S=Object(i.useState)("idle"),x=Object(o.a)(S,2),y=x[0],w=x[1],F=Object(i.useState)([]),N=Object(o.a)(F,2),k=N[0],R=N[1],U=Object(i.useState)(""),T=Object(o.a)(U,2),C=T[0],L=T[1];Object(i.useEffect)((function(){1!==v&&P(a,v).then((function(e){R((function(t){return[].concat(Object(c.a)(t),Object(c.a)(e))})),w("resolved"),document.getElementById("scroll").scrollIntoView({block:"center",behavior:"smooth"})}))}),[v]),Object(i.useEffect)((function(){""!==a&&(g(1),w("pending"),R([]),P(a,1).then((function(e){if(e.length>0)return R(e),void w("resolved");L("\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(a," \u043d\u0435\u0431\u044b\u043b\u043e \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439, \u043a\u0440\u0443\u0442\u0438\u0442\u0435 \u0431\u0430\u0440\u0430\u0431\u0430\u043d")),w("rejected"),setTimeout((function(){w("idle")}),2e3)})).catch((function(e){return function(){L("\u0427\u0451\u0442 \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.message)),w("rejected"),setTimeout((function(){w("idle")}),2e3)}})))}),[a]);var P=function(e,t){return function(e,t){return W.apply(this,arguments)}(e,t)},Y=function(){m(!u)};return Object(p.jsxs)("div",{children:[Object(p.jsx)(O,{saveSubmit:function(e){n(e)}}),Object(p.jsx)(I,{returnUrl:function(e){d(e),Y()},arrayImage:k,resetStatus:function(){w("idle")}}),u&&Object(p.jsx)(E,{url:b.largeImageURL,toggle:Y}),(null===(e=k[0])||void 0===e?void 0:e.loadMore)>12&&Object(p.jsx)(G,{morePage:function(){w("pending"),g((function(e){return e+1}))},total:k[0].loadMore}),"idle"===y&&Object(p.jsx)(A,{}),"pending"===y&&Object(p.jsx)(M,{}),"rejected"===y&&Object(p.jsx)(B,{error:C})]})},V=(r(27),r(28),document.querySelector("#root"));n.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(z,{})}),V)}],[[29,1,2]]]);
//# sourceMappingURL=main.6b93d460.chunk.js.map